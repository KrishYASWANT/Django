{% extends "basic_app/base.html" %}
{% block body_block %}

<div class="container text-center mt-5">
    <div class="card shadow-lg mx-auto p-4" style="max-width: 600px; border-radius: 15px;">
        <h2 class="text-primary">Welcome, {{ user.username }}! ðŸŽ‰</h2>

        <!-- Display User's Profile Picture -->
        {% if user.userprofileinfo.profile_pic %}
            <img src="{{ user.userprofileinfo.profile_pic.url }}" class="rounded-circle mt-3" width="150" height="150" alt="Profile Picture">
        {% else %}
            <img src="/media/default-profile.png" class="rounded-circle mt-3" width="150" height="150" alt="Default Profile Picture">
        {% endif %}

        <p class="mt-3">Update your profile picture:</p>

        <!-- Profile Picture Update Form -->
        <form method="POST" enctype="multipart/form-data" action="{% url 'basic_app:update_profile_pic' %}">
            {% csrf_token %}
            <input type="file" name="profile_pic" class="form-control mb-3" required>
            <button type="submit" class="btn btn-success">Update Profile Picture</button>
        </form>

        <a href="{% url 'logout' %}" class="btn btn-danger mt-3">Logout</a>
    </div>
</div>

{% endblock %}
